{% macro box(page='items') -%}

    <div class="card red lighten-4"> 

        <strong>{{item.title}}</strong>
        <p>{{item.author}}</p>
        <p>Favorites: {{item.favorites | length}}<p>

        {% if page == 'items' %}
            {{ favorite(page='items') }}
            {{ itemspage(page='items') }}
        {% endif %}

        {% if page == 'reading' %}
            {{ favorite(page='reading') }}
            {{ readingpage(page='reading') }}
        {% endif %}

        <a href="{{ url_for('delete',  page=page, item_id=item._id)}}">Delete</a>

        </br>
        ---------------------------------</br>
        {{item.stars}}</br>
        {{ item.review }}</br>
        


    </div>

{%- endmacro %}


{% macro favorite(page) %}
        {% if 'John' not in item.favorites %}
            <a href="{{ url_for('favorite', page=page ,  item_id=item._id )}}" >Favorite</a></br>
        {% else %}
            <a href="{{ url_for('unfavorite', page=page , item_id=item._id) }}">Unfavorite</a></br>
        {% endif %}

{% endmacro %}


{% macro itemspage(page) %}
        {% if item.status == 'reading' %}
            <a href="{{ url_for('remove_reading', page=page, item_id=item._id )}}" >Reading</a></br>
        {% else %}
            <a href="{{ url_for('add_reading', item_id=item._id)}}" >Add to Reading</a></br>
        {% endif %}
        

{% endmacro %}


{% macro readingpage(page) %}
        {% if item.status == 'current' %}
            <a href="{{ url_for('remove_current', page=page, item_id=item._id )}}" >Remove from Current</a></br>
            <a href="{{ url_for('complete', item_id=item._id )}}" >Complete</a></br>
        {% else %}
            <a href="{{ url_for('remove_reading', page=page, item_id=item._id )}}" >Remove from Reading</a></br>
            <a href="{{ url_for('add_current', item_id=item._id)}}" >Add to Current</a></br>
        {% endif %}

{% endmacro %}
